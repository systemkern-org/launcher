sudo: required

# This is a sample build configuration for TravisCI
language: java

services:
  - docker

# -B batch mode makes Maven less verbose
script:
  - mvn -B clean verify

after_success:
  - cp $TRAVIS_BUILD_DIR/integration-tests/target/generated-docs/readme.html $TRAVIS_BUILD_DIR/docs/index.html
  - git config user.name "${GH_USER_NAME}"
  - git config user.email "${GH_USER_EMAIL}"
  - git checkout "Branch to compilation for the number ${TRAVIS_BUILD_NUMBER}"
  - git add .
  - git commit -m "#18 Deploy to GitHub Pages number ${TRAVIS_BUILD_NUMBER}"
  - git push --quiet "https://${GH_TOKEN}@${GH_REF}"